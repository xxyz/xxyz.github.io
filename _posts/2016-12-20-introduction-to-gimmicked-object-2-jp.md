---
title: ギミック譜面の基礎 (2)
---

このポストは、韓国語で書かれた後、機械翻訳で翻訳されました。厄介な部分があっても理解してください。

[part 1](https://tejawha.github.io/2016/12/16/intorduction-to-gimmicked-object/)
今回のポストは、前回の記事で説明した「ワープ停止」を利用して滑らかなアニメーションを作ってみる方法を書き留めてみようと思います。

## 地雷ノート

一般的なノートにギミックを作成する場合は、絶対にプレイすることができない譜面が出てきます。したがって、今後説明する「ノートアニメーション」を実装するには、見えますが、プレーヤーが処理する必要のない地雷ノートがほぼ必須とすることができます。しかし、BMSEとiBMScでは、地雷ノートをサポートしていないため、直接テキストエディタを用いて編集する必要があり、多少面倒な方法を使用する必要があります。 [不可視地雷コンバータ for LR2](http://nekokan.dyndns.info/%7Eotlovers/guidance/guidance_4b.html)を使用すると、その手間をやや少ないことができます。

## ノートアニメーション

アニメーションは、基本的に静止された画像（ノート配列）を適切に迅速間隔で変えながら表示することです。BMSは、前回の記事で説明した「ワープ停止」で停止時間を1/30秒程度未満（1/60程度にすると、元のノートとほとんど差がないほどスムーズに行うことができます）にすると滑らかなアニメーションを実装することができます。

<video controls>
    <source src="/assets/2016-12-19/backward.webm" type="video/webm">
</video>

今回は、上記のように簡単に上に上がる節線を作成しましょう。bpmが180とすると、stop数字が1に該当する実際の時間は、60*4/180/192=0.007であるため、60fpsのフレーム1/60=0.016程度に合わせるには2程度が適当でしょう。bpmを180000に合わせstopを2000に指定しました。

![backward](/assets/2016-12-19/backward.png)

おおよその形は、上記のようになります。作るのはかなり手間がかかるが、コピー＆ペーストを利用して作成すると、思ったよりもすぐことができます。倍率が低く、すべての停止のオブジェクトが一言線と同じ場所にいるかのように見えるが、一言ごとに1/192ずつ停止オブジェクトが一言線より低くなります。

<iframe width="640" height="360" src="https://www.youtube.com/embed/1BP8X6bWNBA" frameborder="0" allowfullscreen></iframe>

先に作成された逆行節線を利用して、今回は、上記動画の差分であるEngine[EXPLODE]の1:30に出てくる単語線でノートを示すようにする効果を作ってみましょう。

![noteback](/assets/2016-12-19/noteback1.png)

さっき作った節線ギミックの終わりに上記のような形の階段ノートを持っている状況を想定します。地雷ノートを使用するのでctrl +クリックを使用して、透明オブジェクトに最初に作成されます。階段ノートの位置はアニメーション上で常に一定なので1キーの位置は常に停止オブジェクトの位置に1/16を加えた場所にする必要があります。


<video controls width = "100%">
    <source src="/assets/2016-12-19/copypaste.webm" type="video/webm">
</video>

上記の映像の0：00〜1：50のように、やはり規則性がある場合、コピー＆ペーストをすると、2倍ずつ増えるので、すぐに置くことができます。一言線がノートを描き出す効果なので、線の下にあるノートは、映像の1：50〜のようにすべて削除すると、ノートは完成です。

<video controls width = "100%">
    <source src="/assets/2016-12-19/landmine.webm" type="video/webm">
</video>

その後、透明ノートを上記のコンバータを利用して置き換える必要があります。実際のプロセスは、画像のようにします。ただし地雷ノートが入ったBMSファイルをBMSEなどで開いて保存し直す場合地雷ノートがすべて消えてしまうため採譜をすべて完成した後に地雷ノートに変換する必要があります。


[完成したBMSファイル](/assets/2016-12-19/backward.bms)と [地雷ノートを入れる前ファイル](/assets/2016-12-19/backward_before.bms)を見れば参考になると思われる。これまで説明した技術を応用すればEngine[EXPLODE]に出てくるようなギミックは両方を作成できるようになります。

ギミック譜面が映像で見る時は注目を集めることができますが、過度に挿入するか、少しだけよくない入れてもそれだけでプレイヤーのイライラだけ誘発する要因となることがあります。おそらく譜面に1〜2回程度、同梱みるとを別々に作成しスペシャル見ればでギミックを多く入れた譜面を一つ入れるように行くのが理想的だと思います。

より書きたい内容が多かったが、それだけでこの程度だけ書きます。質問は、コメントに記入するか、[Twitter](https://twitter.com/xxyzzzzz)でいただければお答えします。
