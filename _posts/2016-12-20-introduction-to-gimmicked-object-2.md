---
title: 기믹패턴의 기초 (2)
---


[part 1](https://tejawha.github.io/2016/12/16/intorduction-to-gimmicked-object/)

이번 포스트에서는 지난번 포스트에서 설명한 '워프 정지'를 이용해서 부드러운 애니메이션을 만들어보는 방법을 적어보려고 합니다.

## 지뢰노트

<iframe width="640" height="360" src="https://www.youtube.com/embed/mBdZ2tCtse4" frameborder="0" allowfullscreen></iframe>

위의 영상의 기믹처럼 일반노트로 기믹을 만들 경우 절대로 플레이 할 수 없는 패턴이 나옵니다. 따라서 앞으로 설명할 '노트 애니메이션'을 구현하려면 보이지만 플레이어가 처리하지 않아도 되는 지뢰노트가 거의 필수적이라고 할 수 있습니다. 하지만 BMSE와 iBMSc에서는 지뢰노트를 지원하지 않기 때문에 직접 텍스트 편집기를 이용해 편집해야하는 다소 번거로운 방법을 사용해야 합니다. [不可視地雷コンバータ for LR2](http://nekokan.dyndns.info/%7Eotlovers/guidance/guidance_4b.html)를 사용하면 그 수고를 다소 덜 수 있습니다.

## 노트 애니메이션

애니메이션은 기본적으로 정지된 이미지(노트 배열)을 적절하게 빠른 간격으로 바꿔가며 보여주는 것입니다. BMS에서는 저번 포스트에서 설명한 '워프 정지'에서 정지 시간을 1/30초 정도 미만(1/60정도로 하면 원래 노트와 거의 차이가 없는 정도로 부드럽게 할 수 있습니다)으로 하면 부드러운 애니메이션을 구현할 수 있습니다.

<video controls>
    <source src="/assets/2016-12-19/backward.webm" type="video/webm">
</video>

이번에는 위처럼 간단히 위로 올라가는 마디선을 만들어보겠습니다. bpm이 180이라고 하면, stop 숫자가 1에 해당하는 실제 시간은 60 * 4 / 180 / 192 = 0.007이므로 60fps의 한 프레임 1/60 = 0.016정도에 맞추려면 2정도가 적당할 것입니다. bpm을 180000으로 맞추고 stop을 2000으로 정했습니다.

![backward](/assets/2016-12-19/backward.png)

대략적인 형태는 위와 같이 됩니다. 만드는데 상당히 수고가 들지만, 복사 붙여넣기를 이용하여 만들면 생각보다 금방 하실 수 있습니다. 배율이 낮아서 모든 정지오브젝트가 마디선과 같은 위치에 있는 것처럼 보이지만 한마디마다 1/192씩 정지오브젝트가 마디선보다 낮아집니다.

<iframe width="640" height="360" src="https://www.youtube.com/embed/1BP8X6bWNBA" frameborder="0" allowfullscreen></iframe>

앞서 만든 거꾸로 가는 마디선을 이용해 이번에는 위 동영상의 차분인 Engine[EXPLODE]의 1:30에 나오는 마디선으로 노트를 나타내게하는 효과를 만들어봅시다.

![noteback](/assets/2016-12-19/noteback1.png)

아까 만든 마디선 기믹의 끝에 위와 같은 모양의 계단노트를 있는 상황을 가정합니다. 지뢰노트를 사용해야 하므로 ctrl + 클릭을 통해 투명오브젝트로 먼저 만들어줍니다. 계단노트의 위치는 애니메이션상에서 항상 일정하므로 1번키의 위치는 항상 정지오브젝트의 위치에 1/16을 더한 곳으로 해야합니다.


<video controls width = "100%">
    <source src="/assets/2016-12-19/copypaste.webm" type="video/webm">
</video>

위의 영상의 0:00~1:50 처럼 역시 규칙성이 있을 경우 복사붙여넣기를 하면 2배씩 늘어나므로 빠르게 넣을 수 있습니다. 마디선이 노트를 그려내는 효과이므로 마디선 아래에 가있는 노트들은 영상의 1:50~처럼 모두 제거하면 노트는 완성입니다.

<video controls width = "100%">
    <source src="/assets/2016-12-19/landmine.webm" type="video/webm">
</video>

그 뒤 투명노트를 위에서 언급한 컨버터를 이용해 바꿔줘야합니다. 실제 과정은 영상처럼 하면 됩니다. 다만 지뢰노트가 들어간 BMS파일을 BMSE등으로 열고 다시 저장할 경우 지뢰노트가 모두 사라지게 되므로 채보를 모두 완성한 다음에 지뢰노트로 변환해야 합니다.


설명을 글로하다보니 다소 부실한데 [완성된 BMS 파일](/assets/2016-12-19/backward.bms)과 [지뢰노트를 넣기 전 파일](/assets/2016-12-19/backward_before.bms)을 보시면 참고가 될 것 같습니다. 지금까지 설명한 기술을 응용하면 Engine [EXPLODE]에 나오는 것과 같은 기믹은 모두 만들 수 있을 것입니다.

기믹패턴이 영상으로 볼 때는 이목을 끌 수 있지만 과하게 넣거나 조금만 잘 못 넣어도 그냥 플레이어의 짜증만 유발하는 요소가 될 수 있습니다. 아마 한 패턴에 1~2번 정도나, 동봉보면을 따로 만들고 스페셜 보면으로 기믹을 많이 넣은 패턴을 하나 넣는 식으로 가는 것이 이상적이라고 생각합니다. 

더 쓰고 싶은 내용이 많았지만 그냥 이정도만 쓰겠습니다.. 질문은 댓글로 남겨주시거나 [트위터](https://twitter.com/xxyzzzzz)로 해주시면 답변해드리겠습니다.